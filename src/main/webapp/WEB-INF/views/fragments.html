<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
</head>

<body>
<div th:fragment="addProduct">
    <form role="form" class="form-horizontal">
        <div class="form-group text-right" th:each="x : ${#strings.arraySplit('title,category,manufacturer,description,price,quantity',',')}">
            <label class="col-sm-2 control-label" for="title" th:for="${x}" th:text="${#strings.capitalize(x)}"></label>
            <div class="col-sm-10">
                <input type="text" class="form-control" th:id="${x}" th:name="${x}" th:placeholder="${#strings.capitalize(x)}" id="title" name="title" placeholder="Title">
            </div>
        </div>
        <button type="submit" class="btn btn-default">Отправить</button>
    </form>
</div>
<div th:fragment="listProduct">
    <div id="products" data-bind="foreach: products">
        <!-- todo: поправить <div data-bind="css: { row: $index % 3 == 2}">-->
            <div class="col-sm-6 col-md-4">
                <div class="thumbnail">
                    <img data-bind="attr: { 'src': img, 'alt': title }"/>
                    <div class="caption">
                        <h3 data-bind="text: title">Ярлык эскиза</h3>
                        <p data-bind="text: description">...</p>
                        <p><a href="#/product/1" data-bind="attr: { 'href': '#/product/'+id }" class="btn btn-default" role="button">Подробнее</a></p>
                    </div>
                </div>
            </div>
        <!--</div>-->
    </div>
</div>
<div th:fragment="product">
    <div id="product" data-bind="with: product">
        <div class="thumbnail">
            <div class="caption">
                <h3 data-bind="text: title">Ярлык эскиза</h3>
                <img data-bind="attr: { 'src': img, 'alt': title }"/>
                <p data-bind="text: description">...</p>
                <p>
                    <a data-bind="click: $parent.addProduct" class="btn btn-default" role="button">Добавить в корзину</a>
                </p>
            </div>
        </div>
    </div>
</div>
<div th:fragment="shoppingCart">
    <div id="cart" data-bind="with: cart">
        <div class="media" data-bind="foreach: items">
            <div class="pull-left">
                <img class="media-object" src="http://placehold.it/64x64">
                <button data-bind="click: $root.removeProduct" class="btn btn-default" role="button">Убрать</button>
            </div>
            <div class="media-body">
                <h4 class="media-heading" data-bind="text: product.title">Заголовок медиа</h4>
                <p data-bind="text: product.description">...</p>
            </div>
        </div>
        <div class="media">
            <div class="pull-right">
                <button type="button" class="btn btn-primary" data-bind="click: $parent.makeOrder">Оплатить</button>
            </div>
        </div>
    </div>
</div>
<div th:fragment="orders">
    <div id="orders">
        <h3>Заказы</h3>
        <div data-bind="foreach: orders">
            <div class="row" >
                <h4 data-bind="text: id"></h4>
                <h5 data-bind="text: dateCreated"></h5>
                <ul data-bind="foreach: { data: productIds, as: 'id' }">
                    <li><span data-bind="text: id"></span></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div th:fragment="profile">
    <h3>profile</h3>
</div>
</body>
</html>